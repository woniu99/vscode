# chapter 6 HTTP首部（1） —— 通用首部字段
## 1. HTTP首部字段的结构：
![](http://otkx6qgz7.bkt.clouddn.com/hhtp/11.png)
- HTTP首部字段是由首部字段名和字段值构成的，中间用冒号“：”分隔。
- > 首部字段名 ：字段值
## 2. 通用首部字段
![](http://otkx6qgz7.bkt.clouddn.com/hhtp/12.png)
## 3. http/1.1 通用首部字段详解
### 1. Cache-Control
- 通过指定首部字段`Cache-Control`的指令，就能操作缓存的工作机制。
![](http://otkx6qgz7.bkt.clouddn.com/hhtp/13.png)
![](http://otkx6qgz7.bkt.clouddn.com/hhtp/14.png)
![](http://otkx6qgz7.bkt.clouddn.com/hhtp/15.png)
 1. 表示是否能缓存的指令
- **`Cache-Control：public(private)`**
- 当指定使用`public`指令时，则明确表明其他用户也可以利用缓存。
- 当指定`private`指令后，缓存服务器会对该特定用户提供资源缓存的服务，对其他用户发过来的请求，代理服务器则不会返回缓存。
 2. **`no-cache`**
- 使用`no-cache`指令的目的是为了防止从缓存中返回**过期的资源**，缓存会向源服务器进行有效期确认后处理资源。
### 2.Connection
 1. 控制不再转发给代理的首部字段
- `Connection: Upgrade` —— 首部字段Upgrade被删除后再转发
 2. 管理持久连接
- `Connection: Keep-Alive`
- http/1.1之前的HTTP版本的默认连接都是非持久连接，如果想在就版本的HTTP协议上维持持续连接，则需要加上此字段值。
### 3.Trailer
- `Trailer: Expires(有效期)`
- 该字段会事先说明在报文主体后记录了哪些首部字段。该字段可应用在HTTP/1.1版本分块传输编码时。
### 4.Transfer-Encoding
- `Transfer-Encoding: chunked`
- 该字段规定了传输报文本体时采用的编码方式。HTTP/1.1的传输编码方式仅对分块传输编码有效。
### 5.Upgrade
- 该字段用于检测HTTP协议及其他协议是否可使用更高的版本进行通信，其参数值可以用来指定一个完全不同的通信协议。
### 6.Via
- 使用首部字段`Via`是为了追踪客户端与服务器之间的请求和响应报文的传输路径。
- 报文经过代理或者网关时，会在首部字段`Via`中附加该服务器的信息，然后再进行转发。
- 首部字段`Via`不仅用于追踪报文的转发，还可以避免请求回环的发生。所以必须在经过代理时附加该首部字段内容。
