# chapter 10 Web的攻击技术
## 1 针对Web应用的攻击模式
### 1.1 以服务器为目标的主动攻击
- 主动攻击(active attack)是指攻击者通过直接访问Web应用，把攻击代码传入的攻击模式。由于该模式是直接针对服务器上的资源进行的攻击，因此攻击者需要能够访问到那些资源。
- 主动攻击主要有SQL注入攻击和OS命令注入攻击。
### 1.2 以服务器为目标的被动攻击
- 被动攻击（passive attack）是指利用圈套策略执行攻击带码的攻击模式。在被动攻击过程中，攻击者不直接对目标Web应用访问发起攻击。
- 被动攻击的攻击模式如下：
    - 1. 攻击者诱使用户触发已设置好的陷阱，而陷阱会启动发送已嵌入攻击代码的HTTP请求。
    - 2. 当用户不知不觉中招之后，用户的浏览器或邮件客户端就会触发这个陷阱。
    - 3. 中招之后的用户浏览器会把含有攻击代码的HTTP请求发送给作为攻击目标的Web应用，运行攻击代码。
    - 4. 执行完攻击代码，存在安全漏洞的Web应用会成为攻击者的跳板，可能导致用户所持的Cookie等个人信息被窃取，登录状态中的用户权限遭恶意滥用等后果。
- 被动攻击中具有代表性的攻击是跨站脚本攻击和跨站点请求伪造。
## 2. 因输出值转义不完全引发的安全漏洞
### 2.1 跨站脚本攻击
- 跨站脚本攻击（Cross-Site Scripting,XSS）是指通过存在安全漏洞的Web网站注册用户的浏览器内运行非法的HTML标签或Javascript进行的一种攻击。动态创建的HTML部分有可能隐藏着安全漏洞。就这样，攻击者编写脚本设下陷阱，用户在自己的浏览器上运行时，一不小心就会受到攻击。
- 跨站脚本攻击有可能造成以下影响。
    - 利用虚假输入表单骗取用户个人信息。
    - 利用脚本窃取用户的Cookie值，被害者在不知情的情况下，帮助攻击者发送恶意请求。
    - 显示伪造的文章或图片。
- XSS是攻击者利用预先设置的陷阱触发的被动攻击。
### 2.2 SQL注入攻击
-SQL注入(SQL Injection)是指针对Web应用使用的数据库，通过运行非法的SQL而产生的攻击。
- SQL注入攻击有以下影响：
     - 非法查看或篡改数据库内的数据。
     - 规避认证
     - 执行和数据库服务器业务关联的程序等。
### 2.3 OS命令注入攻击
- OS命令注入攻击（OS Command Injection）是指通过Web应用，执行非法的操作系统命令达到攻击的目的。只要在能调用Shell函数的地方就存在被攻击的风险。
- OS命令注入攻击可以向Shell发送命令，让Windows或Linux操作系统的命令行启动程序。也就是说，通过OS注入攻击可执行OS上安装的各种程序。
### 2.4 DoS攻击
- DoS攻击是一种让运行中的服务呈停止状态的攻击。有时也叫做服务停止攻击或拒绝服务攻击。DoS攻击的对象不仅限于Web网站，还包括网络设备及服务器等。
- 主要有以下两种DoS攻击方式：
    - 集中利用访问请求造成资源过载，资源用尽的同时，实际上服务也就呈停止状态。
    通过攻击安全漏洞使服务停止。